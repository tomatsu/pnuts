<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Pnuts ユーザーズガイド</title>
    <META Http-Equiv="Content-Type" content="text/html; charset=EUC-JP">
    <META Http-Equiv="Content-Style-Type" Content="text/css">
    <LINK Type="text/css" Rel="stylesheet" Href="stylesheet.css">
  </head>

  <body>

<div class="nav">
<a href="guide.html">Pnuts ユーザーズガイド</a> -> スクリプトの読み込み
</div>

<!-- body start -->

    <h2>スクリプトの読み込み</h2>

<h3>ローカルファイルからの読み込み</h3>

<a name=loadFile></a>

<div class="box">
<div class="synopsis"><b>loadFile</b><tt> ( <a href="http://java.sun.com/j2se/1.4/ja/docs/ja/api/java/lang/String.html">String</a> </tt><em>fileName</b></em><tt> {, <a href="../apidoc/pnuts/lang/Context.html">Context</a> </tt><em>context</em><tt> } )</tt></div>
</div>

<p>
<tt>loadFile()</tt> は、パラメータに指定したスクリプトファイルを読み込んで実行します。最後に評価した式の結果を返します。
</p>

<div class="eg">
例: (Windows)
<pre>
loadFile("..\\examples\\misc\\compose.pnut")
loadFile(`..\examples\misc\compose.pnut`)
loadFile("../examples/misc/compose.pnut")
</pre></div>

<div class="eg">
例: (Unix)
<pre>
loadFile("/home/pnuts/sample.pnut")
</pre></div>

<h3>クラスローダを使ったスクリプトの読み込み</h3>

<a name=load></a>
<a name=require></a>

<div class="box">
<div class="synopsis"><b>load</b><tt> ( <a href="http://java.sun.com/j2se/1.4/ja/docs/ja/api/java/lang/String.html">String</a> </tt><em>script</b></em><tt> {, <a href="../apidoc/pnuts/lang/Context.html">Context</a> </tt><em>context</em><tt> } ) or</tt></div>
<div class="synopsis2"><tt> ( <a href="http://java.sun.com/j2se/1.4/ja/docs/ja/api/java/net/URL.html">URL</a> </tt><em>scriptURL</b></em><tt> {, <a href="../apidoc/pnuts/lang/Context.html">Context</a> </tt><em>context</em><tt> } )</tt></div>
<div class="synopsis"><b>require</b><tt> ( <a href="http://java.sun.com/j2se/1.4/ja/docs/ja/api/java/lang/String.html">String</a> </tt><em>script</b></em><tt> )</tt></div>
</div>

<p>
<tt>load()</tt> は、パラメータに指定したスクリプトを読み込みます。
</p>
<p>
<tt>require()</tt> は、パラメータに指定したスクリプトが読み込まれていない場合にそれを読み込みます。
</p>


<p>
<tt>load()</tt> と <tt>require()</tt> には、拡張子'.pnut'を省略してもかまいません。
</p>

<a name="precompiled"></a>
<p>
拡張子'.pnut' が省略されると、Pnuts インタプリタは、まずコンパイル済みのスクリプトをJava のクラスとして読み込もうとして、その後で".pnut"ファイルを読み込みます。詳しくは、<a href="loadable.html">「load可能なクラス」</a>を参照。
</p>

<h3>自動読み込み</h3>

<a name=autoload></a>

<div class="box">
<div class="synopsis"><b>autoload</b><tt> ( <a href="http://java.sun.com/j2se/1.4/ja/docs/ja/api/java/lang/String.html">String</a> </tt><em>name</b></em><tt> , <a href="http://java.sun.com/j2se/1.4/ja/docs/ja/api/java/lang/String.html">String</a> </tt><em>scriptName</b></em><tt> ) </tt></div>
</div>

<p>
<tt>autoload()</tt> でシンボル<em>name</em>を登録しておくと、そのシンボルが最初に参照されたときにその変数が未定義の場合は、スクリプト<em>scriptName</em>が読み込まれ、その結果として変数<em>name</em>が定義されればその値を参照します。そうでなれければ、通常どおりエラーになります。
</p>

<p>
<em>fileName</em>には、拡張子 '.pnut' を省略できます。
</p>

<div class="eg">
例:
<pre>
autoload("ls", "pnuts/util/ls")
</pre></div>


<!-- body end -->

<div class="nav2">
<a href="guide.html">Pnuts ユーザーズガイド</a> -> スクリプトの読み込み
</div>

  </body>
</html>
